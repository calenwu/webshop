//webshop
function createFancyAlert(e,t,n,i){let s=setAttributes(document.createElement("div"),{id:"fancy-alert-"+fancyAlertCounter.toString(),class:"flex justify-between bg-white w-full md:w-3/4 p-3 transition-opacity relative rounded mb-4 shadow border-l-4 opacity-0"}),r=setAttributes(document.createElement("i"),{class:"fancy-alert-icon fas"}),a=setAttributes(document.createElement("div"),{class:"flex"}),l=setAttributes(document.createElement("div"),{class:""});"success"==e?(s.classList.add("border-green-400"),r.classList.add("text-green-400"),r.classList.add("fa-check-circle")):"warning"==e?(s.classList.add("border-yellow-400"),r.classList.add("text-yellow-400"),r.classList.add("fa-exclamation-circle")):(s.classList.add("border-red-400"),r.classList.add("text-red-400"),r.classList.add("fa-times-circle")),l.appendChild(r);let d=setAttributes(document.createElement("div"),{class:"pl-2"}),c=setAttributes(document.createElement("div"),{class:"font-bold font-weight-bold mb-1"}),o=setAttributes(document.createElement("div"),{class:"mb-1"});c.innerText=t,o.innerHTML=n,d.appendChild(c),d.appendChild(o),a.appendChild(l),a.appendChild(d);let u=setAttributes(document.createElement("div"),{class:"flex justify-center items-center"}),m=setAttributes(document.createElement("span"),{class:"p-2",onClick:"closeFancyAlert("+fancyAlertCounter.toString()+")"}),p=setAttributes(document.createElement("i"),{class:"cursor-pointer fal fa-times"});m.appendChild(p),u.appendChild(m),s.appendChild(a),s.appendChild(u),document.getElementById("snackbar").appendChild(s),s.classList.add("opacity-100"),fancyAlertCounter+=1,i?setTimeout(function(){m.click()},i):setTimeout(function(){m.click()},5e3)}function closeFancyAlert(e){let t=document.getElementById("fancy-alert-"+e.toString());t.classList.remove("opacity-100"),setTimeout(function(){t.style.height=0},250),setTimeout(function(){removeElement("fancy-alert-"+e.toString())},500)}function transformButtonToLoad(e,t){e.innerText="",e.appendChild(getSpinnerDots(t)),e.disabled=!0}function transformButtonToNormal(e,t){removeAllChilds(e),e.disabled=!1,e.innerText=t}function getSpinnerDotsContainerMedium(e){let t=setAttributes(document.createElement("div"),{class:"spinner-dots-container"});return t.appendChild(getSpinnerDotsMedium(e)),t}function getSpinnerDotsContainer(e){let t=setAttributes(document.createElement("div"),{class:"spinner-dots-container"});return t.appendChild(getSpinnerDots(e)),t}function getSpinnerDotsMedium(e){let t=setAttributes(document.createElement("div"),{class:"flex w-full justify-center items-center"}),n=setAttributes(document.createElement("div"),{class:"spinner-dots spinner-dots-medium"}),i=setAttributes(document.createElement("div"),{class:"bounce1 "+e}),s=setAttributes(document.createElement("div"),{class:"bounce2 "+e}),r=setAttributes(document.createElement("div"),{class:"bounce3 "+e}),a=setAttributes(document.createElement("div"),{class:"invisible"}),l=setAttributes(document.createElement("div"),{class:"invisible"});return a.innerHTML="h",l.innerHTML="h",n.appendChild(i),n.appendChild(s),n.appendChild(r),t.appendChild(a),t.appendChild(n),t.appendChild(l),t}function getSpinnerDots(e){let t=setAttributes(document.createElement("div"),{class:"flex w-full justify-center items-center"}),n=setAttributes(document.createElement("div"),{class:"spinner-dots"}),i=setAttributes(document.createElement("div"),{class:"bounce1 "+e}),s=setAttributes(document.createElement("div"),{class:"bounce2 "+e}),r=setAttributes(document.createElement("div"),{class:"bounce3 "+e}),a=setAttributes(document.createElement("div"),{class:"invisible"}),l=setAttributes(document.createElement("div"),{class:"invisible"});return a.innerHTML="h",l.innerHTML="h",n.appendChild(i),n.appendChild(s),n.appendChild(r),t.appendChild(a),t.appendChild(n),t.appendChild(l),t}function setAttributes(e,t){for(let n in t)e.setAttribute(n,t[n]);return e}function removeElement(e){document.getElementById(e).outerHTML=""}async function loadContent(e,t,n){let i=document.getElementById(e);const s=i.children;for(i.classList.add("flex","justify-center","items-center");i.firstChild;)i.firstChild.remove();let r=document.createElement("div");r.classList.add("h-72","w-full","flex","justify-center","items-center");let a=getSpinnerDotsContainerMedium(n);r.appendChild(a),i.appendChild(r);const l=Date.now();return await fetch(t).then(e=>e.text()).then(e=>{const t=Date.now()-l;if(t>400){for(;i.firstChild;)i.firstChild.remove();i.appendChild((new DOMParser).parseFromString(e,"text/html").querySelector("div")),i.classList.remove("justify-center","items-center")}else setTimeout(()=>{for(;i.firstChild;)i.firstChild.remove();i.appendChild((new DOMParser).parseFromString(e,"text/html").querySelector("div")),i.classList.remove("justify-center","items-center")},400-t)}).catch(e=>{for(;i.firstChild;)i.firstChild.remove();for(let e=0;e<s.length;e++)i.appendChild(s[e]);throw createFancyAlert("error","Loading error","There was an error trying to load the content"),i.classList.remove("justify-center","items-center"),e}),!0}function setCookie(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var s="expires="+i.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var s=n[i];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""}function insertParam(e,t){e=encodeURIComponent(e),t=encodeURIComponent(t);var n=document.location.search.substr(1).split("&");let i=0;for(;i<n.length;i++)if(n[i].startsWith(e+"=")){let e=n[i].split("=");e[1]=t,n[i]=e.join("=");break}i>=n.length&&(n[n.length]=[e,t].join("="));let s=n.join("&");document.location.search=s}function initProductDetailCarousel(e,t,n,i,s,r){const a=document.getElementById(i),l=document.getElementById(s);for(;a.firstChild;)a.firstChild.remove();for(;l.firstChild;)l.firstChild.remove();for(let e=0;e<r.length;e++)a.appendChild(createCarouselZoomImageLi(r[e])),l.appendChild(createCarouselImageLi(r[e].src));var d=new Splide("#"+t,{type:"fade",heightRatio:e,pagination:!1,arrows:!1,cover:!0,rewind:!0}),c=new Splide("#"+n,{rewind:!0,fixedWidth:100,fixedHeight:66,isNavigation:!0,gap:10,focus:"center",pagination:!1,cover:!0,rewind:!0,breakpoints:{600:{fixedWidth:66,fixedHeight:40}}}).mount();d.sync(c).mount();for(let e=0;e<a.children.length;e++)a.children[e].style.setProperty("background-size","contain","important");return d}function createCarouselZoomImageLi(e){let t=document.createElement("img");t.classList.add("w-auto"),t.classList.add("h-auto"),t.classList.add("max-w-full"),t.classList.add("max-h-full"),t.classList.add("object-contain"),t.setAttribute("src",e.src),t.setAttribute("alt","carousel image");let n=document.createElement("a");n.setAttribute("href","javascript:void(0);"),n.setAttribute("data-pswp-src",e.src),n.setAttribute("data-pswp-width",e.width),n.setAttribute("data-pswp-height",e.height),n.classList.add("m-auto"),n.classList.add("max-w-full"),n.classList.add("h-full"),n.appendChild(t);let i=document.createElement("li");return i.classList.add("splide__slide"),i.classList.add("flex"),i.appendChild(n),i}function createCarouselImageLi(e){let t=document.createElement("img");t.classList.add("w-full"),t.setAttribute("src",e),t.setAttribute("alt","carousel image");let n=document.createElement("li");return n.classList.add("splide__slide"),n.appendChild(t),n}fancyAlertCounter=0;
//acount
function showLoginOverlay(){loginOverlay.classList.add("opacity-100"),loginOverlay.classList.remove("-z-1")}function hideLoginOverlay(){loginOverlay.classList.remove("opacity-100"),setTimeout(function(){loginOverlay.classList.add("-z-1")},500)}function showLogin(){loginContent.classList.remove("hidden")}function hideLogin(){loginContent.classList.add("hidden")}function showRegister(){registerContent.classList.remove("hidden")}function hideRegister(){registerContent.classList.add("hidden")}function showReset(){resetContent.classList.remove("hidden")}function hideReset(){resetContent.classList.add("hidden")}async function submitLoginForm(e){const r=loginBtn.innerHTML;loginBtn.innerHTML="",loginBtn.disabled=!0,loginBtn.classList.add("btn-loading"),loginBtn.appendChild(getSpinnerDots("bg-white"));const t=new FormData;return t.append("email",loginEmail.value),t.append("password",loginPassword.value),t.append("csrfmiddlewaretoken",e.firstElementChild.value),await fetch(loginUrl,{method:"POST",body:t}).then(e=>e.json()).then(e=>{(e=e.data).success?location.reload():e.error&&(loginError.innerHTML=e.error,loginError.classList.remove("hidden"))}).catch(e=>{createFancyAlert("error",errorString,e.toString())}),setTimeout(function(){loginBtn.disabled=!1,loginBtn.innerHTML=r},1e3),!1}async function submitRegisterForm(e){const r=registerBtn.innerHTML;registerBtn.innerHTML="",registerBtn.disabled=!0,registerBtn.classList.add("btn-loading"),registerBtn.appendChild(getSpinnerDots("bg-white"));const t=new FormData;return t.append("email",registerEmail.value),t.append("password",registerPassword.value),t.append("password2",registerPassword2.value),t.append("csrfmiddlewaretoken",e.firstElementChild.value),await fetch(registerUrl,{method:"POST",body:t}).then(e=>e.json()).then(e=>{(e=e.data).success?location.reload():(e.errors.email&&(registerEmail.style.border="1px solid red",registerEmailError.innerHTML=e.errors.email),e.errors.password&&(registerPassword.style.border="1px solid red",registerPasswordError.innerHTML=e.errors.password),e.errors.password2&&(registerPassword2.style.border="1px solid red",registerPassword2Error.innerHTML=e.errors.password2))}).catch(e=>{createFancyAlert("error",errorString,e.toString())}),setTimeout(function(){registerBtn.disabled=!1,registerBtn.innerHTML=r},1e3),!1}async function submitResetForm(e){const r=resetBtn.innerHTML;resetBtn.innerHTML="",resetBtn.disabled=!0,resetBtn.classList.add("btn-loading"),resetBtn.appendChild(getSpinnerDots("bg-white"));const t=new FormData;return t.append("email",resetEmail.value),t.append("csrfmiddlewaretoken",e.firstElementChild.value),await fetch(resetUrl,{method:"POST",body:t}).then(()=>{resetEmail.classList.remove("input-error"),resetSuccess.innerHTML=resetSuccessText,resetEmailError.innerHTML="",resetSuccess.classList.remove("hidden")}).catch(e=>{console.log(e),resetEmail.classList.remove("input-error"),resetEmailError.innerHTML=e,resetSuccess.classList.add("hidden")}),setTimeout(function(){resetBtn.disabled=!1,resetBtn.innerHTML=r},1e3),!1}
//cart
function getSpinnerDotsContainerMedium(e){let t=setAttributes(document.createElement("div"),{class:"spinner-dots-container"});return t.appendChild(getSpinnerDotsMedium(e)),t}function getSpinnerDotsContainer(e){let t=setAttributes(document.createElement("div"),{class:"spinner-dots-container"});return t.appendChild(getSpinnerDots(e)),t}function getSpinnerDotsMedium(e){let t=setAttributes(document.createElement("div"),{class:"flex w-full justify-center items-center"}),n=setAttributes(document.createElement("div"),{class:"spinner-dots spinner-dots-medium"}),s=setAttributes(document.createElement("div"),{class:"bounce1 "+e}),a=setAttributes(document.createElement("div"),{class:"bounce2 "+e}),r=setAttributes(document.createElement("div"),{class:"bounce3 "+e}),i=setAttributes(document.createElement("div"),{class:"invisible"}),l=setAttributes(document.createElement("div"),{class:"invisible"});return i.innerHTML="h",l.innerHTML="h",n.appendChild(s),n.appendChild(a),n.appendChild(r),t.appendChild(i),t.appendChild(n),t.appendChild(l),t}function getSpinnerDots(e){let t=setAttributes(document.createElement("div"),{class:"flex w-full justify-center items-center"}),n=setAttributes(document.createElement("div"),{class:"spinner-dots"}),s=setAttributes(document.createElement("div"),{class:"bounce1 "+e}),a=setAttributes(document.createElement("div"),{class:"bounce2 "+e}),r=setAttributes(document.createElement("div"),{class:"bounce3 "+e}),i=setAttributes(document.createElement("div"),{class:"invisible"}),l=setAttributes(document.createElement("div"),{class:"invisible"});return i.innerHTML="h",l.innerHTML="h",n.appendChild(s),n.appendChild(a),n.appendChild(r),t.appendChild(i),t.appendChild(n),t.appendChild(l),t}function showCart(){cartOverlay.classList.remove("-right-full"),cartOverlay.classList.remove("sm:-right-96"),cartOverlay.classList.remove("2xl:-right-1/3"),cartOverlayBackground.classList.remove("-z-1"),cartOverlayBackground.classList.add("z-30"),cartOverlayBackground.classList.add("opacity-100")}function hideCart(){cartOverlay.classList.add("-right-full"),cartOverlay.classList.add("sm:-right-96"),cartOverlay.classList.add("2xl:-right-1/3"),cartOverlayBackground.classList.remove("opacity-100"),cartOverlayBackground.classList.remove("z-30"),cartOverlayBackground.classList.add("-z-1")}const delay=e=>new Promise(t=>setTimeout(t,e));let firstGetCart=!0;async function getCart(){firstGetCart||!window.location.pathname.includes("payment")?(loadContent("cartOverlayContent",cartOverlayContentUrl,"bg-primary-400"),document.getElementById("cartCheckoutTop")&&(loadContent("cartCheckoutTop",cartCheckoutTopUrl,"bg-primary-400"),loadContent("cartCheckoutRight",cartCheckoutRightUrl,"bg-primary-400")),firstGetCart=!1):location.reload()}function updateQuantity(e,t,n=-1){const s=-1==n?e.getElementsByClassName("text-sm")[0].value:n;if(s<0)return createFancyAlert("error",invalidQuantityTitle,invalidQuantityText),!1;const a=e.getElementsByClassName("rounded-r")[0];url=cartUpdateUrl.replace(/12345/,t),url=url.replace(/12345/,s),a.disabled=!0;const r=a.innerHTML;return a.firstElementChild.classList.add("spinning"),fetch(url).then(e=>e.json()).then(e=>{a.firstElementChild.classList.remove("spinning"),(e=e.data).success?(a.innerHTML='<i class="fas fa-check"></i>',setTimeout(function(){a.innerHTML=r},1e3),e.message&&createFancyAlert(e.message.tag,e.message.title,e.message.innerHtml,5e3),location.reload()):(createFancyAlert(e.message.tag,e.message.title,e.message.innerHtml),getCart())}).catch(e=>{a.firstElementChild.classList.remove("spinning"),createFancyAlert("error",errorString,e.toString()),getCart()}),a.innerHTML='<i class="fas fa-sync"></i>',a.disabled=!1,!1}function updateOverlayQuantity(e,t,n=-1){const s=-1==n?e.getElementsByClassName("text-sm")[0].value:n;if(s<0)return createFancyAlert("error",invalidQuantityTitle,invalidQuantityText),!1;const a=e.getElementsByClassName("rounded-r")[0];url=cartUpdateUrl.replace(/12345/,t),url=url.replace(/12345/,s),a.disabled=!0;const r=a.innerHTML;return a.firstElementChild.classList.add("spinning"),fetch(url).then(e=>e.json()).then(e=>{a.firstElementChild.classList.remove("spinning"),(e=e.data).success?(a.innerHTML='<i class="fas fa-check"></i>',setTimeout(function(){a.innerHTML=r},1e3),e.message&&createFancyAlert(e.message.tag,e.message.title,e.message.innerHtml,5e3),getCart()):createFancyAlert(e.message.tag,e.message.title,e.message.innerHtml)}).catch(e=>{createFancyAlert("error",errorString,e.toString())}),a.disabled=!1,!1}
//coupon
async function applyCoupon(e,t=!1){const a=e.getElementsByClassName("rounded-l")[0].value,n=e.getElementsByClassName("rounded-l")[0].previousElementSibling.value,r=e.getElementsByClassName("rounded-l")[0].parentElement.previousElementSibling,l=new FormData,s=document.getElementsByClassName("couponForm");return Array.from(s).forEach(e=>{const t=e.getElementsByClassName("rounded-r")[0];t.disabled=!0,t.innerHTML='<i class="fal fa-sync"></i>',t.firstElementChild.classList.add("spinning")}),l.append("csrfmiddlewaretoken",n),l.append("code",a),await fetch(couponApplyUrl,{method:"POST",body:l}).then(e=>e.json()).then(e=>{if(Array.from(s).forEach(e=>{e.getElementsByClassName("rounded-r")[0].firstElementChild.classList.remove("spinning")}),(e=e.data).success)t&&location.reload(),Array.from(s).forEach(e=>{e.getElementsByClassName("rounded-l")[0].value=""}),getCart();else{r.classList.remove("hidden");var a=document.getElementsByClassName("collapsible");for(let e=0;e<a.length;e++)a[e].click(),a[e].click()}}).catch(e=>{createFancyAlert("error",errorString,e.toString()),getCart()}),Array.from(s).forEach(e=>{const t=e.getElementsByClassName("rounded-r")[0];t.innerHTML='<i class="fal fa-check"></i>',t.disabled=!1}),!1}async function removeCoupon(e=!1){return await fetch(couponRemoveUrl,{method:"POST"}).then(e=>e.json()).then(t=>{if((t=t.data).success)e&&location.reload(),getCart();else{warning.classList.remove("hidden");var a=document.getElementsByClassName("collapsible");for(let e=0;e<a.length;e++)a[e].click(),a[e].click()}}).catch(e=>{createFancyAlert("error",errorString,e.toString()),getCart()}),!1}